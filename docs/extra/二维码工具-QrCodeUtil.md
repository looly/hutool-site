## ç”±æ¥
ç”±äºå¤§å®¶å¯¹äºŒç»´ç çš„éœ€æ±‚è¾ƒå¤šï¼Œå¯¹äºäºŒç»´ç çš„ç”Ÿæˆå’Œè§£ææˆ‘è®¤ä¸ºåº”è¯¥ä½œä¸ºç®€å•çš„å·¥å…·å­˜åœ¨äºHutoolä¸­ã€‚è€ƒè™‘åˆ°è‡ªè¡Œå®ç°çš„éš¾åº¦ï¼Œå› æ­¤Hutoolé’ˆå¯¹è¢«å¹¿æ³›æ¥å—çš„çš„[zxing](https://github.com/zxing/zxing)åº“è¿›è¡Œå°è£…ã€‚è€Œç”±äºæ¶‰åŠç¬¬ä¸‰æ–¹åŒ…ï¼Œå› æ­¤å½’ç±»åˆ°extraæ¨¡å—ä¸­ã€‚

## ä½¿ç”¨

### å¼•å…¥zxing
è€ƒè™‘åˆ°Hutoolçš„éå¼ºåˆ¶ä¾èµ–æ€§ï¼Œå› æ­¤zxingéœ€è¦ç”¨æˆ·è‡ªè¡Œå¼•å…¥ï¼š

```xml
<dependency>
	<groupId>com.google.zxing</groupId>
	<artifactId>core</artifactId>
	<version>3.3.3</version>
</dependency>
```

> è¯´æ˜
> zxing-3.3.3æ˜¯æ­¤æ–‡æ¡£ç¼–å†™æ—¶çš„æœ€æ–°ç‰ˆæœ¬ï¼Œç†è®ºä¸Šä½ å¼•å…¥çš„ç‰ˆæœ¬åº”ä¸æ­¤ç‰ˆæœ¬ä¸€è‡´æˆ–æ¯”è¿™ä¸ªç‰ˆæœ¬æ–°ã€‚

### ç”ŸæˆäºŒç»´ç 

åœ¨æ­¤æˆ‘ä»¬å°†Hutoolä¸»é¡µçš„urlç”Ÿæˆä¸ºäºŒç»´ç ï¼Œå¾®ä¿¡æ‰«ä¸€æ‰«å¯ä»¥çœ‹åˆ°H5ä¸»é¡µå“¦ï¼š

```java
// ç”ŸæˆæŒ‡å®šurlå¯¹åº”çš„äºŒç»´ç åˆ°æ–‡ä»¶ï¼Œå®½å’Œé«˜éƒ½æ˜¯300åƒç´ 
QrCodeUtil.generate("https://hutool.cn/", 300, 300, FileUtil.file("d:/qrcode.jpg"));
```

æ•ˆæœqrcode.jpgï¼š

![](images/qrcode.jpg)

### è‡ªå®šä¹‰å‚æ•°ï¼ˆsince 4.1.2ï¼‰

1. åŸºæœ¬å‚æ•°è®¾å®š

é€šè¿‡`QrConfig`å¯ä»¥è‡ªå®šä¹‰äºŒç»´ç çš„ç”Ÿæˆå‚æ•°ï¼Œä¾‹å¦‚é•¿ã€å®½ã€äºŒç»´ç çš„é¢œè‰²ã€èƒŒæ™¯é¢œè‰²ã€è¾¹è·ç­‰å‚æ•°ï¼Œä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š

```java
QrConfig config = new QrConfig(300, 300);
// è®¾ç½®è¾¹è·ï¼Œæ—¢äºŒç»´ç å’ŒèƒŒæ™¯ä¹‹é—´çš„è¾¹è·
config.setMargin(3);
// è®¾ç½®å‰æ™¯è‰²ï¼Œæ—¢äºŒç»´ç é¢œè‰²ï¼ˆé’è‰²ï¼‰
config.setForeColor(Color.CYAN.getRGB());
// è®¾ç½®èƒŒæ™¯è‰²ï¼ˆç°è‰²ï¼‰
config.setBackColor(Color.GRAY.getRGB());

// ç”ŸæˆäºŒç»´ç åˆ°æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥åˆ°æµ
QrCodeUtil.generate("http://hutool.cn/", config, FileUtil.file("e:/qrcode.jpg"));
```

æ•ˆæœqrcode.jpg:

![](images/qrcodeCustom.jpg)

2. é™„å¸¦logoå°å›¾æ ‡

```java
QrCodeUtil.generate(//
	"http://hutool.cn/", //äºŒç»´ç å†…å®¹
	QrConfig.create().setImg("e:/logo_small.jpg"), //é™„å¸¦logo
	FileUtil.file("e:/qrcodeWithLogo.jpg")//å†™å‡ºåˆ°çš„æ–‡ä»¶
);
```

æ•ˆæœå¦‚å›¾ï¼š

![](images/qrcodeWithLogo.jpg)

3. è°ƒæ•´çº é”™çº§åˆ«

å¾ˆå¤šæ—¶å€™ï¼ŒäºŒç»´ç æ— æ³•è¯†åˆ«ï¼Œè¿™æ—¶å°±è¦è°ƒæ•´çº é”™çº§åˆ«ã€‚çº é”™çº§åˆ«ä½¿ç”¨zxingçš„`ErrorCorrectionLevel`æšä¸¾å°è£…ï¼ŒåŒ…æ‹¬ï¼šLã€Mã€Qã€Hå‡ ä¸ªå‚æ•°ï¼Œç”±ä½åˆ°é«˜ã€‚ä½çº§åˆ«çš„åƒç´ å—æ›´å¤§ï¼Œå¯ä»¥è¿œè·ç¦»è¯†åˆ«ï¼Œä½†æ˜¯é®æŒ¡å°±ä¼šé€ æˆæ— æ³•è¯†åˆ«ã€‚é«˜çº§åˆ«åˆ™ç›¸åï¼Œåƒç´ å—å°ï¼Œå…è®¸é®æŒ¡ä¸€å®šèŒƒå›´ï¼Œä½†æ˜¯åƒç´ å—æ›´å¯†é›†ã€‚

```java
QrConfig config = new QrConfig();
// é«˜çº é”™çº§åˆ«
config.setErrorCorrection(ErrorCorrectionLevel.H);
QrCodeUtil.generate("https://hutool.cn/", config, FileUtil.file("e:/qrcodeCustom.jpg"));
```

æ•ˆæœå¦‚å›¾ï¼š

![](images/qrcodeH.jpg)

### è¯†åˆ«äºŒç»´ç 

```java
// decode -> "http://hutool.cn/"
String decode = QrCodeUtil.decode(FileUtil.file("d:/qrcode.jpg"));
```

### ç”ŸæˆSVGçŸ¢é‡å›¾äºŒç»´ç ï¼ˆsince 5.8.6ï¼‰

```java
QrConfig qrConfig = QrConfig.create().setImg("d:/test/logo.png")
				.setForeColor(Color.blue)
				.setBackColor(Color.pink)
				.setRatio(8)
				.setErrorCorrection(ErrorCorrectionLevel.M)
				.setMargin(1);
		String svg = QrCodeUtil.generateAsSvg("https://hutool.cn/", qrConfig);
```

æ•ˆæœå¦‚å›¾ï¼š

![](images/hutool_qr.svg)

### ç”ŸæˆAscii Artå­—ç¬¦ç”»äºŒç»´ç ï¼ˆsincec 5.8.6ï¼‰

```java
QrConfig qrConfig = QrConfig.create()
				.setForeColor(Color.BLUE)
				.setBackColor(Color.MAGENTA)
				.setWidth(0)
				.setHeight(0).setMargin(1);
		String asciiArt = QrCodeUtil.generateAsAsciiArt("https://hutool.cn/",qrConfig);
```

ç”Ÿæˆçš„äºŒç»´ç å­—ç¬¦ç”»æ–‡æœ¬ï¼š

```
[38;5;21;48;5;201mâ–ˆâ–€â–€â–€â–€â–€â–€â–€â–ˆâ–€â–ˆâ–€â–ˆâ–€â–ˆâ–€â–ˆâ–€â–ˆâ–€â–€â–€â–€â–€â–€â–€â–ˆ[0;39m
[38;5;21;48;5;201mâ–ˆ â–ˆâ–€â–€â–€â–ˆ â–ˆâ–€â–„â–€â–„ â–„â–€ â–€â–ˆ â–ˆâ–€â–€â–€â–ˆ â–ˆ[0;39m
[38;5;21;48;5;201mâ–ˆ â–ˆ   â–ˆ â–ˆâ–€â–ˆâ–„â–ˆâ–„â–„â–€â–„ â–ˆ â–ˆ   â–ˆ â–ˆ[0;39m
[38;5;21;48;5;201mâ–ˆ â–€â–€â–€â–€â–€ â–ˆâ–€â–ˆ â–ˆ â–„â–€â–„â–€â–ˆ â–€â–€â–€â–€â–€ â–ˆ[0;39m
[38;5;21;48;5;201mâ–ˆâ–ˆâ–€â–ˆâ–ˆâ–€â–ˆâ–€â–ˆâ–ˆâ–„â–„â–„â–€â–ˆ â–„â–€â–€â–ˆâ–ˆâ–€â–ˆâ–€â–ˆâ–€â–ˆ[0;39m
[38;5;21;48;5;201mâ–ˆâ–„â–€â–€  â–€â–€ â–€â–„â–€â–ˆ â–€â–€â–€â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–€ â–€ â–ˆ[0;39m
[38;5;21;48;5;201mâ–ˆ â–„â–„â–€ â–„â–€â–ˆâ–ˆâ–ˆâ–€ â–ˆâ–„â–ˆâ–„â–€  â–€â–„â–„â–ˆâ–„â–€â–ˆ[0;39m
[38;5;21;48;5;201mâ–ˆâ–ˆâ–€ â–€â–€â–ˆâ–€â–ˆâ–„ â–€â–„â–€â–ˆâ–„â–ˆâ–ˆâ–„â–€ â–€â–€â–„â–ˆâ–ˆâ–ˆ[0;39m
[38;5;21;48;5;201mâ–ˆ â–„â–„â–„â–„â–ˆâ–€â–ˆâ–€  â–€â–ˆâ–€ â–€â–€â–€ â–€   â–„ â–ˆ[0;39m
[38;5;21;48;5;201mâ–ˆâ–€â–€â–€â–€â–€â–€â–€â–ˆâ–ˆâ–€  â–ˆâ–„ â–€ â–ˆâ–€â–ˆ â–ˆ â–ˆâ–„â–ˆ[0;39m
[38;5;21;48;5;201mâ–ˆ â–ˆâ–€â–€â–€â–ˆ â–ˆâ–€â–€â–ˆâ–„â–„â–€â–ˆâ–„ â–€â–€â–€  â–ˆâ–€â–€â–ˆ[0;39m
[38;5;21;48;5;201mâ–ˆ â–ˆ   â–ˆ â–ˆâ–ˆâ–ˆâ–„â–ˆâ–€â–ˆâ–„â–ˆâ–€â–ˆâ–„â–„â–€â–ˆâ–„â–„â–„â–ˆ[0;39m
[38;5;21;48;5;201mâ–ˆ â–€â–€â–€â–€â–€ â–ˆâ–„â–„â–ˆ   â–€â–ˆâ–€â–„  â–ˆâ–ˆâ–€â–€ â–ˆ[0;39m
[38;5;21;48;5;201mâ–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€[0;39m

```

æ‰“å°åˆ°æ§åˆ¶å°çš„æ•ˆæœï¼š

![](images/asscii_art_qr.png)
